\section{Section 1.4 - Linearity}

Figures \ref{fig:02.F}, \ref{fig:02.G} and \ref{fig:02.H} show the spatial $F$, $G$ and $H$ images.
Figures \ref{fig:02.Fhat_nc}, \ref{fig:02.Ghat_nc} and \ref{fig:02.Hhat_nc} show their respective Fourier transforms, with the origin
being in the upper left corner. Figures \ref{fig:02.Fhat_c}, \ref{fig:02.Ghat_c} and \ref{fig:02.Hhat_c} show the Fourier transforms of images $F$, $G$ and $H$
with the origin in the middle of the image.

Here, the \texttt{fftshift()} method is used to shift the origin $O(0,0)$ from the upper left corner to the middle of each image.
The \texttt{log} command is used to make details in the images in the frequency domain visible. 
Figures \ref{fig:02.Fhat_c_nl}, \ref{fig:02.Ghat_c_nl} and \ref{fig:02.Hhat_c_nl} illustrate the Fourier transforms of images $F$, $G$ and $H$
with the origin in the middle of the image without the use of the \texttt{log} command.

\begin{minipage}{\linewidth}
  \centering
  \begin{minipage}{0.25\linewidth}
    \vspace{-0.15\linewidth}
    \begin{figure}[H]
      \scalebox{0.4}{\input{./images/Q6/F.tex}}
      \caption{Image \texttt{F}}
      \label{fig:02.F}
    \end{figure}
  \end{minipage}
  \hspace{0.05\linewidth}
  \begin{minipage}{0.25\linewidth}
    \begin{figure}[H]
      \scalebox{0.4}{\input{./images/Q6/G.tex}}
      \caption{Image \texttt{G = F'}}
      \label{fig:02.G}
    \end{figure}
  \end{minipage}
  \hspace{0.05\linewidth}
  \begin{minipage}{0.25\linewidth}
    \begin{figure}[H]
      \scalebox{0.4}{\input{./images/Q6/H.tex}}
      \caption{Image \texttt{H = F + 2 * G}}
      \label{fig:02.H}
    \end{figure}
  \end{minipage}
\end{minipage}


\begin{minipage}{\linewidth}
  \centering
  \begin{minipage}{0.25\linewidth}
    \begin{figure}[H]
      \scalebox{0.23}{\input{./images/Q6/Fhat_nc.tex}}
      \caption{Image $\mathcal{F}(F)$. Origin at the upper left corner.}
      \label{fig:02.Fhat_nc}
    \end{figure}
  \end{minipage}
  \hspace{0.05\linewidth}
  \begin{minipage}{0.25\linewidth}
    \begin{figure}[H]
      \scalebox{0.4}{\input{./images/Q6/Ghat_nc.tex}}
      \caption{Image $\mathcal{F}(G)$. Origin at the upper left corner.}
      \label{fig:02.Ghat_nc}
    \end{figure}
  \end{minipage}
  \hspace{0.05\linewidth}
  \begin{minipage}{0.25\linewidth}
    \begin{figure}[H]
      \scalebox{0.4}{\input{./images/Q6/Hhat_nc.tex}}
      \caption{Image $\mathcal{F}(H)$. Origin at the upper left corner.}
      \label{fig:02.Hhat_nc}
    \end{figure}
  \end{minipage}
\end{minipage}


\begin{minipage}{\linewidth}
  \centering
  \begin{minipage}{0.25\linewidth}
    \begin{figure}[H]
      \scalebox{0.4}{\input{./images/Q6/Fhat_c.tex}}
      \caption{Image $\mathcal{F}(F)$. Origin at the middle.}
      \label{fig:02.Fhat_c}
    \end{figure}
  \end{minipage}
  \hspace{0.05\linewidth}
  \begin{minipage}{0.25\linewidth}
    \begin{figure}[H]
      \scalebox{0.4}{\input{./images/Q6/Ghat_c.tex}}
      \caption{Image $\mathcal{F}(G)$. Origin at the middle.}
      \label{fig:02.Ghat_c}
    \end{figure}
  \end{minipage}
  \hspace{0.05\linewidth}
  \begin{minipage}{0.25\linewidth}
    \begin{figure}[H]
      \scalebox{0.4}{\input{./images/Q6/Hhat_c.tex}}
      \caption{Image $\mathcal{F}(H)$. Origin at the middle.}
      \label{fig:02.Hhat_c}
    \end{figure}
  \end{minipage}
\end{minipage}


\begin{minipage}{\linewidth}
  \centering
  \begin{minipage}{0.25\linewidth}
    \begin{figure}[H]
      \scalebox{0.4}{\input{./images/Q6/Fhat_c_nl.tex}}
      \caption{Image $\mathcal{F}(F)$. Origin at the middle. Illustration without the use of the \texttt{log} function.}
      \label{fig:02.Fhat_c_nl}
    \end{figure}
  \end{minipage}
  \hspace{0.05\linewidth}
  \begin{minipage}{0.25\linewidth}
    \begin{figure}[H]
      \scalebox{0.4}{\input{./images/Q6/Ghat_c_nl.tex}}
      \caption{Image $\mathcal{F}(G)$. Origin at the middle. Illustration without the use of the \texttt{log} function.}
      \label{fig:02.Ghat_c_nl}
    \end{figure}
  \end{minipage}
  \hspace{0.05\linewidth}
  \begin{minipage}{0.25\linewidth}
    \begin{figure}[H]
      \scalebox{0.4}{\input{./images/Q6/Hhat_c_nl.tex}}
      \caption{Image $\mathcal{F}(H)$. Origin at the middle. Illustration without the use of the \texttt{log} function.}
      \label{fig:02.Hhat_c_nl}
    \end{figure}
  \end{minipage}
\end{minipage}



\subsection{Question 7}

In essence, image $F$ in the spatial domain is a two-dimensional box function:

\begin{equation}
	F(x,y) = \left\{
	\begin{array}{ c l }
	1, & x_1 \leq x \leq x_2
	\\
	0, & everywhere\ else
	\end{array}
	\right.
\end{equation}

Its Fourier transform is:

\begin{multline}
\mathcal{F}(F(x,y)) = \sum_{x=0}^{N-1} \sum_{y=0}^{N-1} f(x,y) \cdot e^{-\dfrac{2 \pi i (xu + yv)}{N}} = \\
\sum_{x=x_1}^{x_2} e^{-\dfrac{2 \pi i x u}{N}} \sum_{y=0}^{N-1} e^{-\dfrac{2 \pi i yv}{N}} = 
\sum_{x=x_1}^{x_2} e^{-\dfrac{2 \pi i x u}{N}} \sum_{y=0}^{N-1} \mathbf{1} \cdot e^{-\dfrac{2 \pi i yv}{N}} = \\
 \delta(v) \cdot \sum_{x=x_1}^{x_2} \cdot e^{-\dfrac{2 \pi i x u}{N}}
\end{multline}

where we exploited the identity

\begin{equation}
	\mathcal{F}(1) = \delta(v)
\end{equation}

Since $\delta(v) = 1$ only where $v=0$, $\mathcal{F}(F(x,y))$ will be non-zero only where $v=0$. Hence, that is why $F$'s Fourier spectrum is concentrated
in the left border. Similarly, the same can be derived for image $G$, but for transposed axes. As for $H$, since the Fourier transform possesses the property of
linearity and $H$ is a linear combination of $F$ and $H$, its Fourier transform is the combination of those of $F$ and $H$.


\subsection{Question 8}

As stated above, application of a logarithm on an image can reveal details in an image to the human eye. A logarithm transformation is an image
enhancement technique used to compress the range of pixel values in an image so that bright regions are finely tuned, but darker ones are tuned coarsely so 
as for differences between pixels to be visible.


\subsection{Question 9}
TODO




\subsection{Question 11}

Image $F$ and its Fourier transform are illustrated in figures \ref{fig:Q11_1} and \ref{fig:Q11_2} respectively.

\begin{minipage}{\linewidth}
  \centering
  \begin{minipage}{0.4\linewidth}
    \begin{figure}[H]
      \scalebox{0.6}{\input{./images/Q11/q11_1.tex}}
      \caption{Image $F$}
      \label{fig:Q11_1}
    \end{figure}
  \end{minipage}
  \hspace{0.05\linewidth}
  \begin{minipage}{0.4\linewidth}
    \begin{figure}[H]
      \scalebox{0.6}{\input{./images/Q11/q11_2.tex}}
      \caption{Image $\mathcal{F}(F)$.}
      \label{fig:Q11_2}
    \end{figure}
  \end{minipage}
\end{minipage}
\\

Compared to figure \ref{fig:Q10_1}, the height of the non-zero area in image \ref{fig:Q11_1} is cut in half, while its width is increased by a factor of $2$.
Comparing their respective Fourier transforms verifies the transform's scaling property: a compression in either the spatial or the frequency domain is expressed
as an expansion in the other.


\subsection{Question 12}

Figure \ref{fig:Q12} illustrates the effect of rotation of the original image to the spectra of the various images. The orientation of each spectrum
follows the rotation of each image, i.e. it is rotated by the same angle and towards the same direction. However, because of the rotation, each
image loses its original smoothness, due to the limited resolution and the nature of the shape of the pixels. This has a direct effect on the Fourier transform
of each image, as is clearly seen by the wave-like patterns in the spectrum of the images rotated by $30$ and $60$ degrees.

\begin{figure}
	\centering
	\input{./images/Q12/q12.tex}
	\caption{The first row depicts the original $F$ image and its Fourier transform. The next images in the first column represent $F$ rotated by 
	a) $30$, b) $45$, c) $60$ and d) $90$ degrees respectively. 
	The second column features their respective Fourier transforms. The third column features the Fourier spectra of the second column
	rotated, so as to match the orientation of the Fourier spectrum of image $F$.}
	\label{fig:Q12}
\end{figure}

The rotation of the image can be seen as the rotation of a sum of pixels. If a pixel with coordinates $A(x,y)$ with respect
to the center of the image is rotated by an angle $\theta$, then its new coordinates can be expressed as 
$$A(x',y') = A(x cos\theta + ysin\theta, -x sin\theta + y cos\theta)$$
Hence, $$x = x' cos\theta - y' sin\theta$$ and $$y = x' sin\theta + y' cos\theta$$

If we now take the Fourier transform of the rotated image $f(x',y')$, then

\begin{multline}
\mathcal{F}(f') = \sum_{x=0}^{N-1} \sum_{y=0}^{N-1} f(x',y') \cdot e^{-\dfrac{2 \pi i (xu + yv)}{N}} = \\
\sum_{x=0}^{N-1} \sum_{y=0}^{N-1} f(x',y') \cdot e^{-\dfrac{2 \pi i ((x' cos\theta - y' sin\theta)u + (x' sin\theta + y' cos\theta)v)}{N}} = \\
\sum_{x=0}^{N-1} \sum_{y=0}^{N-1} f(x',y') \cdot e^{-\dfrac{2 \pi i (x' (u cos\theta + v sin\theta) + y' (v cos\theta -u sin\theta))}{N}} = \\
\sum_{x'=0}^{N-1} \sum_{y'=0}^{N-1} f(x',y') \cdot e^{-\dfrac{2 \pi i (x' (u cos\theta + v sin\theta) + y' (v cos\theta -u sin\theta))}{N}}
\end{multline}

which means that the rotation is propagated to the frequency domain:

$$u' = u cos\theta + v sin\theta$$ and $$v' = v cos\theta -u sin\theta$$